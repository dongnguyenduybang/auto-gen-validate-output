{
    "method": "POST",
    "path": "/Message/SendMessage",
    "headers": {
      "Content-Type": "application/json",
      "x-session-token": "{{mockUser.token}}",
      "x-country-code": "VN"
    },
    "payload": {
      "workspaceId": "0",
      "channelId": "{{getChannel.isChannelId}}",
      "content": "test123123",
      "ref": "ref"
    },

    "beforeAll": [
        "mockUser(body: { prefix: 'duy12345',quantity: 2,badge: 0 }, expect: {})",
        "createChannel(body: {name: 'channel 1', workspaceId: '0'}, header: {token: '{{mockUser.token}}'}, expect: {c'})",
        "getChannel(body: {workspaceId: '0', channelId: '{{createChannel.channelId}}'}, header: {token: '{{mockUser.token}}'}, expect: {countMember: 1, countMessage: 1, isChannelId: '{{createChannel.channelId}}',isLastMessage: '{{createChannel.messageId}}', isContent: '{{createChannel.contentChannel}}', isOwner: '{{mockUser.userId}}'})"
    ],
    "saga" :  [
      "getListMessage(body: { workspaceId: '0', channelId: '{{sendMessage.channelId}}' }, header: {token: '{{mockUser.token}}' }, expect: {isLastMessage: '{{sendMessage.messageId}}', isLastContent: '{{sendMessage.content}}', isSender: '{{sendMessage.senderId}}' })"
   ],
    "afterAll": [
      "deleteMessageForEveryone('0', {{channelId}}, {{messageId}})"
    ]
  }



   